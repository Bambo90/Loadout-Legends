<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loadout Legends</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="characterPanel.css">
    <link rel="stylesheet" href="itemTooltip.css">
</head>
<body>
    <div id="app-container">
        <aside id="sidebar">
            <div class="logo">
                <h2>LL</h2>
                <span>v0.1</span>
            </div>
            <nav id="main-nav">
                <button class="nav-btn active" onclick="switchTab('grind')">âš”ï¸ Abenteuer</button>
                <button class="nav-btn" onclick="switchTab('equipment')">ğŸ›¡ï¸ AusrÃ¼stung</button>
                <button class="nav-btn" onclick="switchTab('shop')">ğŸ’° Shop</button>
                <button class="nav-btn" onclick="switchTab('character')">Charakter</button>
                <button class="nav-btn" onclick="switchTab('stats')">ğŸ“Š Stats</button>
            </nav>
            <div class="sidebar-footer">
                <button id="save-btn" onclick="saveGame()">ğŸ’¾ Speichern</button>
                <button id="reset-btn" onclick="resetGame()">ğŸ—‘ï¸ Spielstand lÃ¶schen</button>
            </div>
        </aside>

        <main id="main-view">
            <header id="top-bar">
                <div class="stat-item"><span class="label">GOLD</span><span id="gold-display" class="value">0</span></div>
                <div class="stat-item"><span class="label">LEVEL</span><span id="level-display" class="value">1</span></div>
                <div class="hp-header-container"><div id="hp-fill-header"></div><span id="hp-text-header">HP: 100 / 100</span></div>
                <div class="xp-header-container"><div id="xp-fill-header"></div><span id="xp-text-header">XP: 0 / 500</span></div>
                <div class="bonus-display">
                    <span class="label">BONUSES</span>
                    <span id="bonus-display" class="bonus-value">1.0x</span>
                </div>
            </header>

            <section id="content-area">
                <div id="tab-grind" class="tab-content active">
                    <div class="hub-header">
                        <h3>Abenteuer-Zentrum</h3>
                        <p>WÃ¤hle einen Modus zum Spielen.</p>
                    </div>
                    <div class="adventure-hub">
                        <div class="adventure-card" style="--card-bg: linear-gradient(135deg, #2a4a2a 0%, #1a3a1a 100%);">
                            <div class="card-main-content">
                                <h4>ğŸ“– Chroniken</h4>
                                <p class="card-desc">Story-Kampagne und Episoden</p>
                            </div>
                            <div class="card-dropdown">
                                <button class="dropdown-item" onclick="renderWorldView()">ğŸŒ Welt</button>
                                <button class="dropdown-item" onclick="alert('Karten - Coming Soon!')">ğŸ—ºï¸ Karten</button>
                                <button class="dropdown-item" onclick="alert('Dungeons - Coming Soon!')">ğŸ° Dungeons</button>
                                <button class="dropdown-item" onclick="alert('Bosse - Coming Soon!')">ğŸ‘¹ Bosse</button>
                            </div>
                        </div>
                        <div class="adventure-card" style="--card-bg: linear-gradient(135deg, #4a2a2a 0%, #3a1a1a 100%);">
                            <div class="card-main-content">
                                <h4>âš”ï¸ Arena</h4>
                                <p class="card-desc">PvE-KÃ¤mpfe und Herausforderungen</p>
                            </div>
                            <div class="card-dropdown">
                                <button class="dropdown-item" onclick="alert('PVP (ungewertet) - Coming Soon!')">ğŸ® PVP (ungewertet)</button>
                                <button class="dropdown-item" onclick="alert('PVP (gewertet) - Coming Soon!')">ğŸ† PVP (gewertet)</button>
                                <button class="dropdown-item" onclick="alert('Draft Modus - Coming Soon!')">ğŸ² Draft Modus</button>
                                <button class="dropdown-item" onclick="alert('Mutatoren Liga - Coming Soon!')">âš¡ Mutatoren Liga</button>
                                <button class="dropdown-item" onclick="alert('Spiegel Challenge - Coming Soon!')">ğŸª Spiegel Challenge</button>
                            </div>
                        </div>
                        <div class="adventure-card" style="--card-bg: linear-gradient(135deg, #2a3a4a 0%, #1a2a3a 100%);">
                            <div class="card-main-content">
                                <h4>â›ï¸ Ressourcen</h4>
                                <p class="card-desc">Farmen und Sammeln</p>
                            </div>
                            <div class="card-dropdown">
                                <button class="dropdown-item" onclick="alert('HolzfÃ¤llerei - Coming Soon!')">ğŸª“ HolzfÃ¤llerei</button>
                                <button class="dropdown-item" onclick="alert('Bergbau - Coming Soon!')">â›ï¸ Bergbau</button>
                                <button class="dropdown-item" onclick="alert('Fischen - Coming Soon!')">ğŸ£ Fischen</button>
                                <button class="dropdown-item" onclick="alert('Landwirtschaft - Coming Soon!')">ğŸŒ¾ Landwirtschaft</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="tab-equipment" class="tab-content">
                    <div class="hub-header">
                        <h3>AusrÃ¼stungs-Zentrum</h3>
                        <p>Klicke auf ein Set oder das Lager zum Verwalten.</p>
                    </div>
                    <div class="equipment-hub">
                        <div class="loadout-preview-card" onclick="openWorkshop('farm')">
                            <h4>ğŸšœ Farm Setup</h4>
                            <div id="preview-farm" class="preview-grid"></div>
                        </div>
                        <div class="loadout-preview-card" onclick="openWorkshop('pve')">
                            <h4>âš”ï¸ PvE Setup</h4>
                            <div id="preview-pve" class="preview-grid"></div>
                        </div>
                        <div class="loadout-preview-card" onclick="savePlayerSnapshot(); alert('Snapshot saved for PvP!')">
                            <h4>ğŸ† PvP (Ranked)</h4>
                            <div id="preview-pvp" class="preview-grid"></div>
                        </div>
                        <div class="loadout-preview-card" onclick="openWorkshop('storage')">
                             <h4>ğŸ“¦ Storage</h4> <div id="preview-bank-small" class="preview-grid"></div>
                        </div>
                    </div>
                </div>

                <div id="tab-shop" class="tab-content">
                    <h3>Marktplatz</h3>
                    <div id="shop-container" class="shop-grid"></div>
                </div>
                <div id="tab-character" class="tab-content">
                    <div class="character-tab-layout">
                        <div id="character-tab-panel-host" class="character-panel-host character-panel-host--overview"></div>
                        <section class="character-hub-setup-section">
                            <div class="character-hub-setup-switch" role="tablist" aria-label="Setup Auswahl">
                                <button class="character-setup-btn active" data-setup="farm" onclick="setCharacterHubSetup('farm')">FARM</button>
                                <button class="character-setup-btn" data-setup="pve" onclick="setCharacterHubSetup('pve')">PVE</button>
                                <button class="character-setup-btn" data-setup="pvp" onclick="setCharacterHubSetup('pvp')">PVP</button>
                            </div>
                            <div class="character-hub-grid-wrap">
                                <div id="character-setup-grid" class="inventory-grid"></div>
                            </div>
                        </section>
                    </div>
                </div>

                <div id="tab-stats" class="tab-content">
                    <h3>Statistiken</h3>
                    <div class="stats-grid">
                        <div class="stat-card"><span class="stat-label">Gold / Sek</span><span id="stat-gps" class="stat-value">0</span></div>
                        <div class="stat-card"><span class="stat-label">Gold gesamt</span><span id="stat-total-gold" class="stat-value">0</span></div>
                        <div class="stat-card"><span class="stat-label">XP gesamt</span><span id="stat-total-xp" class="stat-value">0</span></div>
                    </div>
                </div>
            </section>
        </main>

        <div id="workshop-overlay" class="hidden">
            <div class="workshop-header">
                <div style="flex: 1;"></div>
                <button class="close-workshop" onclick="closeWorkshop()">ğŸ’¾ Speichern</button>
            </div>
            <div class="workshop-content">
                <div class="bank-section">
                    <!-- Storage Header -->
                    <div class="storage-header">
                        <h3 id="bank-header">Storage</h3>
                        <div class="storage-page-controls">
                            <select id="storage-page-select" aria-label="Storage Pages"></select>
                            <button id="storage-page-edit-btn" type="button" onclick="openStoragePageEditor()" title="Storage Page bearbeiten">âœ</button>
                        </div>
                        <div class="storage-controls">
                            <input type="text" id="storage-search" placeholder="ğŸ” Suchen..." oninput="setStorageSearch(this.value)" />
                            <select id="category-filter" onchange="setStorageFilter(this.value)" aria-label="Item-Klassenfilter">
                                <option value="all">ğŸ“¦</option>
                                <option value="weapon">âš”ï¸</option>
                                <option value="armor">ğŸ›¡ï¸</option>
                                <option value="accessory">ğŸ’</option>
                                <option value="tool">â›ï¸</option>
                                <option value="material">ğŸ§ª</option>
                            </select>
                            <button id="auto-sort-btn" onclick="autoSortStorage('bank')" title="Storage-Seite sortieren">ğŸ”„</button>
                            <button id="bulk-sell-btn" onclick="toggleBulkSellMode()" title="Massenverkauf">SELL</button>
                        </div>
                    </div>
                    
                    <!-- Storage Grid -->
                    <div id="bank-grid" class="inventory-grid scrollable-grid storage-grid"></div>
                    
                    <!-- Bulk Sell Actions -->
                    <div id="bulk-sell-actions" style="display: none;">
                        <button id="execute-bulk-sell" onclick="executeBulkSell()">ğŸ’¸ Verkaufen</button>
                        <button onclick="cancelBulkSellMode()">âŒ Abbrechen</button>
                    </div>
                    <div id="storage-page-editor" class="storage-page-editor hidden" role="dialog" aria-modal="true" aria-labelledby="storage-page-editor-title">
                        <div class="storage-page-editor-card">
                            <h4 id="storage-page-editor-title">Storage Page</h4>
                            <label class="storage-page-editor-field" for="storage-page-name-input">
                                Name
                                <input id="storage-page-name-input" type="text" maxlength="32" />
                            </label>
                            <div class="storage-page-editor-field">
                                <span>Color</span>
                                <div id="storage-page-editor-palette" class="storage-page-editor-palette"></div>
                            </div>
                            <div class="storage-page-editor-actions">
                                <button type="button" onclick="saveStoragePageEditor()">Save</button>
                                <button type="button" onclick="closeStoragePageEditor()">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="active-grid-section">
                    <div class="workshop-active-layout">
                        <div class="workshop-grid-and-controls">
                            <div class="workshop-grid-column">
                                <div id="workshop-setup-buttons" class="workshop-setup-buttons">
                                    <button onclick="openWorkshop('farm')" class="character-setup-btn">Farm</button>
                                    <button onclick="openWorkshop('pve')" class="character-setup-btn">PvE</button>
                                    <button onclick="openWorkshop('pvp')" class="character-setup-btn">PvP</button>
                                    <button onclick="openWorkshop('sort')" class="character-setup-btn">SORT</button>
                                </div>
                                <div id="active-setup-grid" class="inventory-grid"></div>
                            </div>
                            <div class="workshop-summary-column">
                                <div class="workshop-summary-title">Item-Stats</div>
                                <div id="item-mutator-summary-host" class="workshop-summary-list"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="tooltip" class="hidden"></div>
    
<!-- ITEMS & ENGINES -->
<script src="items_weapons_swords.js"></script>
<script src="items_weapons_axes.js"></script>
<script src="items_weapons_maces.js"></script>
<script src="items_weapons_daggers.js"></script>
<script src="items_weapons_spears.js"></script>
<script src="items_weapons_bows.js"></script>
<script src="items_weapons_crossbows.js"></script>
<script src="items_weapons_wands.js"></script>
<script src="items_weapons_staves.js"></script>
<script src="items_weapons_index.js"></script>

<script src="items_offhands_shields.js"></script>
<script src="items_offhands_index.js"></script>

<script src="items_armor_helmets.js"></script>
<script src="items_armor_body.js"></script>
<script src="items_armor_gloves.js"></script>
<script src="items_armor_boots.js"></script>
<script src="items_armor_index.js"></script>

<script src="items_accessories_rings.js"></script>
<script src="items_accessories_amulets.js"></script>
<script src="items_accessories_index.js"></script>

<script src="items_enhancements_whetstones.js"></script>
<script src="items_enhancements_grip_wraps.js"></script>
<script src="items_enhancements_guards.js"></script>
<script src="items_enhancements_index.js"></script>

<script src="items_consumables_potions.js"></script>
<script src="items_consumables_index.js"></script>

<script src="item_index.js"></script>
<script src="itemRegistry.js"></script>
<script src="affixDefs.js"></script>
<script src="itemDefs.js"></script>
<script src="generator.js"></script>
<script src="monsters.js"></script>

<script src="itemsEngine.js"></script>
<script src="utils.js"></script>
<script src="gridEngine.js"></script>
<script src="customDrag.js"></script>
<script src="dragdropengine.js"></script>
<script src="itemTooltip.js"></script>
<script src="workshopEngine.js"></script>
<script src="storageEngine.js"></script>

<script src="platformBridge.js"></script>
<script src="character.js"></script>
<script src="characterPanel.js"></script>
<script src="saveengine.js"></script>
<script src="combatEngine.js"></script>
<script src="pvp.js"></script>

<script src="worldData.js"></script>

<script src="script.js"></script>

</body>
</html>





